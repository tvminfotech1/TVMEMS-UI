<div class="resignation-container">
  <!-- Top bar with card effect -->
<div class="top-bar-card">
  <div class="top-bar-info">
    <div>
      <h1 class="resignation-title">Resignation Requests</h1>
      <div class="resignation-desc">
        View your past resignation submissions, track their review status, or apply for a new resignation below.
      </div>
    </div>
    <button class="apply-btn" (click)="openForm()">+ Apply Resignation</button>
  </div>
</div>

  <!-- Table in rounded card -->
  <div class="table-card">
    <table>
      <thead>
        <tr>
          <th>NAME</th>
          <th>EMPLOYEE ID</th>
          <th>REASON</th>
          <th>SUBMITTED DATE</th>
          <th>COMMENTS</th>
          <th>STATUS</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngIf="submittedData.length === 0">
          <td colspan="6">No Data available!</td>
        </tr>
        <tr *ngFor="let data of submittedData">
          <td>{{ data.name }}</td>
          <td>{{ data.employeeId }}</td>
          <td>{{ data.reason }}</td>
          <td>{{ data.date }}</td>
          <td>{{ data.explanation }}</td>
          <td>
            <span class="status-chip" [ngClass]="{
              'submitted': data.status==='Submitted',
              'pending': data.status==='Pending',
              'rejected': data.status==='Rejected'
            }">
              {{ data.status }}
            </span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Animated sliding form panel -->
  <div *ngIf="showForm" class="form-slide-panel">
    <button class="close-btn" (click)="closeForm()" aria-label="Close form">&times;</button>

    <div class="form-card">
      <h2>Resignation Form</h2>

      <form [formGroup]="resignationForm">
        <div class="form-group">
          <label>Name <span class="required">*</span></label>
          <input type="text" formControlName="name" placeholder="Enter your name" />
        </div>

        <div class="form-group">
          <label>Employee ID <span class="required">*</span></label>
          <input type="text" formControlName="employeeId" placeholder="Enter your employee ID" />
        </div>

        <div class="form-group">
          <label>Reason <span class="required">*</span></label>
          <select formControlName="reason">
            <option value="">-- Select Reason --</option>
            <option value="Personal">Personal</option>
            <option value="Career Growth">Career Growth</option>
            <option value="Relocation">Relocation</option>
            <option value="Other">Other</option>
          </select>
        </div>

        <div class="form-group">
          <label>Explain Your Reason <span class="required">*</span></label>
          <textarea rows="4" formControlName="explanation"></textarea>
        </div>

        <label class="checkbox">
          <input type="checkbox" formControlName="acknowledge" />
          I acknowledge that I have submitted this resignation form. <span class="required">*</span>
        </label>

        <p class="note">* Save button will be enabled when all fields are completed.</p>

        <div class="buttons">
          <button type="button" class="clear-btn" (click)="clearForm()">CLEAR</button>
          <button type="button" class="save-btn" [disabled]="!resignationForm.valid" (click)="saveForm()">SAVE</button>
        </div>
      </form>
    </div>
  </div>
</div>
